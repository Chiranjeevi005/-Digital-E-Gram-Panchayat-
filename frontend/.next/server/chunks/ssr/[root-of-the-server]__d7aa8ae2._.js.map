{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","turbopack:///[project]/frontend/src/lib/api.ts","turbopack:///[project]/frontend/src/app/test-auth/page.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","// API client for making requests to the backend\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3002/api';\r\n\r\n// Get token from localStorage or sessionStorage\r\nconst getToken = () => {\r\n  if (typeof window !== 'undefined') {\r\n    return localStorage.getItem('token') || sessionStorage.getItem('token');\r\n  }\r\n  return null;\r\n};\r\n\r\n// Define a generic type for API responses\r\ntype ApiResponse<T = unknown> = Promise<T>;\r\n\r\nexport const apiClient = {\r\n  // Generic GET request\r\n  get: async <T = unknown>(endpoint: string): ApiResponse<T> => {\r\n    const token = getToken();\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { 'Authorization': `Bearer ${token}` }),\r\n      },\r\n    });\r\n    return response.json();\r\n  },\r\n\r\n  // Generic POST request\r\n  post: async <T = unknown>(endpoint: string, data: Record<string, unknown>): ApiResponse<T> => {\r\n    const token = getToken();\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { 'Authorization': `Bearer ${token}` }),\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    return response.json();\r\n  },\r\n\r\n  // Generic PUT request\r\n  put: async <T = unknown>(endpoint: string, data: Record<string, unknown>): ApiResponse<T> => {\r\n    const token = getToken();\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { 'Authorization': `Bearer ${token}` }),\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    return response.json();\r\n  },\r\n\r\n  // Generic DELETE request\r\n  delete: async <T = unknown>(endpoint: string): ApiResponse<T> => {\r\n    const token = getToken();\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        ...(token && { 'Authorization': `Bearer ${token}` }),\r\n      },\r\n    });\r\n    return response.json();\r\n  },\r\n\r\n  // File download request\r\n  download: async (endpoint: string): Promise<Blob> => {\r\n    const token = getToken();\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n      headers: {\r\n        ...(token && { 'Authorization': `Bearer ${token}` }),\r\n      },\r\n    });\r\n    return response.blob();\r\n  },\r\n\r\n  // Login method\r\n  login: async (email: string, password: string, userType: string) => {\r\n    return apiClient.post('/auth/login', { email, password, userType });\r\n  },\r\n\r\n  // Register method\r\n  register: async (name: string, email: string, password: string) => {\r\n    return apiClient.post('/auth/register', { name, email, password });\r\n  },\r\n\r\n  // Get current user\r\n  getCurrentUser: async () => {\r\n    return apiClient.get('/auth/user/me');\r\n  }\r\n};","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { apiClient } from '../../lib/api';\r\n\r\nexport default function TestAuthPage() {\r\n  const [result, setResult] = useState<any>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const testRegister = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await apiClient.register('Test User', 'test@example.com', 'password123');\r\n      setResult(res);\r\n    } catch (error) {\r\n      setResult(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const testLogin = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await apiClient.login('test@example.com', 'password123', 'Citizen');\r\n      setResult(res);\r\n    } catch (error) {\r\n      setResult(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const testGetCurrentUser = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await apiClient.getCurrentUser();\r\n      setResult(res);\r\n    } catch (error) {\r\n      setResult(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n      <div className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-md\">\r\n        <h1 className=\"text-2xl font-bold mb-6 text-center\">Auth Test Page</h1>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <button\r\n            onClick={testRegister}\r\n            disabled={loading}\r\n            className=\"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded disabled:opacity-50\"\r\n          >\r\n            Test Register\r\n          </button>\r\n          \r\n          <button\r\n            onClick={testLogin}\r\n            disabled={loading}\r\n            className=\"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:opacity-50\"\r\n          >\r\n            Test Login\r\n          </button>\r\n          \r\n          <button\r\n            onClick={testGetCurrentUser}\r\n            disabled={loading}\r\n            className=\"w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded disabled:opacity-50\"\r\n          >\r\n            Test Get Current User\r\n          </button>\r\n        </div>\r\n        \r\n        {loading && (\r\n          <div className=\"mt-4 text-center\">\r\n            <p>Loading...</p>\r\n          </div>\r\n        )}\r\n        \r\n        {result && (\r\n          <div className=\"mt-6 p-4 bg-gray-50 rounded\">\r\n            <h2 className=\"font-bold mb-2\">Result:</h2>\r\n            <pre className=\"text-sm overflow-auto\">\r\n              {JSON.stringify(result, null, 2)}\r\n            </pre>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}