(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1831,e=>{"use strict";e.s(["apiClient",()=>a]);let r="http://localhost:3002/api",t=()=>localStorage.getItem("token")||sessionStorage.getItem("token"),o=async e=>{if(!e.ok){let r="HTTP error! status: ".concat(e.status);try{r=(await e.json()).message||r}catch(t){r=e.statusText||r}throw Error(r)}return e},a={get:async e=>{try{let a=t(),n=await fetch("".concat(r).concat(e),{method:"GET",headers:{"Content-Type":"application/json",...a&&{Authorization:"Bearer ".concat(a)}},credentials:"include"});return await o(n),n.json()}catch(e){if(console.error("API GET request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},post:async(e,a)=>{try{let n=t(),s=await fetch("".concat(r).concat(e),{method:"POST",headers:{"Content-Type":"application/json",...n&&{Authorization:"Bearer ".concat(n)}},body:JSON.stringify(a),credentials:"include"});return await o(s),s.json()}catch(e){if(console.error("API POST request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},put:async(e,a)=>{try{let n=t(),s=await fetch("".concat(r).concat(e),{method:"PUT",headers:{"Content-Type":"application/json",...n&&{Authorization:"Bearer ".concat(n)}},body:JSON.stringify(a),credentials:"include"});return await o(s),s.json()}catch(e){if(console.error("API PUT request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},delete:async e=>{try{let a=t(),n=await fetch("".concat(r).concat(e),{method:"DELETE",headers:{...a&&{Authorization:"Bearer ".concat(a)}},credentials:"include"});return await o(n),n.json()}catch(e){if(console.error("API DELETE request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},download:async e=>{try{let a=t(),n=await fetch("".concat(r).concat(e),{headers:{...a&&{Authorization:"Bearer ".concat(a)}},credentials:"include"});return await o(n),n.blob()}catch(e){if(console.error("API download request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},login:async(e,r,t)=>a.post("/auth/login",{email:e,password:r,userType:t}),register:async(e,r,t)=>a.post("/auth/register",{name:e,email:r,password:t}),getCurrentUser:async()=>a.get("/auth/user/me")}},35712,e=>{"use strict";e.s(["default",()=>a]);var r=e.i(43476),t=e.i(71645),o=e.i(1831);let a=()=>{let[e,a]=(0,t.useState)(null),[n,s]=(0,t.useState)(!1),[i,c]=(0,t.useState)(null),l=async()=>{try{s(!0),c(null);let e=await o.apiClient.getCurrentUser();a(e)}catch(e){c(e instanceof Error?e.message:"Failed to fetch user data"),console.error("Error:",e)}finally{s(!1)}},d=async()=>{try{s(!0),c(null);let e=await o.apiClient.post("/certificates/apply",{applicantName:"Test User",certificateType:"Birth",date:"2023-01-01",place:"Test Place",supportingFiles:[],declaration:!0});a(e)}catch(e){c(e instanceof Error?e.message:"Failed to apply for certificate"),console.error("Error:",e)}finally{s(!1)}};return(0,r.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,r.jsx)("h1",{children:"API Test Page"}),(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("button",{onClick:l,disabled:n,style:{padding:"10px 20px",marginRight:"10px"},children:n?"Loading...":"Test Get User"}),(0,r.jsx)("button",{onClick:d,disabled:n,style:{padding:"10px 20px"},children:n?"Loading...":"Test Apply Certificate"})]}),i&&(0,r.jsxs)("div",{style:{backgroundColor:"#fee",color:"#c33",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:[(0,r.jsx)("strong",{children:"Error:"})," ",i]}),e&&(0,r.jsxs)("div",{style:{backgroundColor:"#efe",color:"#363",padding:"10px",borderRadius:"4px"},children:[(0,r.jsx)("strong",{children:"Result:"}),(0,r.jsx)("pre",{children:JSON.stringify(e,null,2)})]})]})}}]);