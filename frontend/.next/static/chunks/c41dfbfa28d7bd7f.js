(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1831,e=>{"use strict";e.s(["apiClient",()=>a]);let r="http://localhost:3002/api",t=()=>localStorage.getItem("token")||sessionStorage.getItem("token"),o=async e=>{if(!e.ok){let r="HTTP error! status: ".concat(e.status);try{r=(await e.json()).message||r}catch(t){r=e.statusText||r}throw Error(r)}return e},a={get:async e=>{try{let a=t(),n=await fetch("".concat(r).concat(e),{method:"GET",headers:{"Content-Type":"application/json",...a&&{Authorization:"Bearer ".concat(a)}},credentials:"include"});return await o(n),n.json()}catch(e){if(console.error("API GET request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},post:async(e,a)=>{try{let n=t(),s=await fetch("".concat(r).concat(e),{method:"POST",headers:{"Content-Type":"application/json",...n&&{Authorization:"Bearer ".concat(n)}},body:JSON.stringify(a),credentials:"include"});return await o(s),s.json()}catch(e){if(console.error("API POST request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},put:async(e,a)=>{try{let n=t(),s=await fetch("".concat(r).concat(e),{method:"PUT",headers:{"Content-Type":"application/json",...n&&{Authorization:"Bearer ".concat(n)}},body:JSON.stringify(a),credentials:"include"});return await o(s),s.json()}catch(e){if(console.error("API PUT request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},delete:async e=>{try{let a=t(),n=await fetch("".concat(r).concat(e),{method:"DELETE",headers:{...a&&{Authorization:"Bearer ".concat(a)}},credentials:"include"});return await o(n),n.json()}catch(e){if(console.error("API DELETE request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},download:async e=>{try{let a=t(),n=await fetch("".concat(r).concat(e),{headers:{...a&&{Authorization:"Bearer ".concat(a)}},credentials:"include"});return await o(n),n.blob()}catch(e){if(console.error("API download request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},login:async(e,r,t)=>a.post("/auth/login",{email:e,password:r,userType:t}),register:async(e,r,t)=>a.post("/auth/register",{name:e,email:r,password:t}),getCurrentUser:async()=>a.get("/auth/user/me")}},6956,e=>{"use strict";e.s(["default",()=>a]);var r=e.i(43476),t=e.i(71645),o=e.i(1831);function a(){let[e,a]=(0,t.useState)(null),[n,s]=(0,t.useState)(!1),c=async()=>{s(!0);try{let e=await o.apiClient.register("Test User","test@example.com","password123");a(e)}catch(e){a({error:e instanceof Error?e.message:"Unknown error occurred"})}finally{s(!1)}},i=async()=>{s(!0);try{let e=await o.apiClient.login("test@example.com","password123","Citizen");a(e)}catch(e){a({error:e instanceof Error?e.message:"Unknown error occurred"})}finally{s(!1)}},l=async()=>{s(!0);try{let e=await o.apiClient.getCurrentUser();a(e)}catch(e){a({error:e instanceof Error?e.message:"Unknown error occurred"})}finally{s(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Auth Test Page"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("button",{onClick:c,disabled:n,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded disabled:opacity-50",children:"Test Register"}),(0,r.jsx)("button",{onClick:i,disabled:n,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:opacity-50",children:"Test Login"}),(0,r.jsx)("button",{onClick:l,disabled:n,className:"w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded disabled:opacity-50",children:"Test Get Current User"})]}),n&&(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)("p",{children:"Loading..."})}),e&&(0,r.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded",children:[(0,r.jsx)("h2",{className:"font-bold mb-2",children:"Result:"}),(0,r.jsx)("pre",{className:"text-sm overflow-auto",children:JSON.stringify(e,null,2)})]})]})})}}]);