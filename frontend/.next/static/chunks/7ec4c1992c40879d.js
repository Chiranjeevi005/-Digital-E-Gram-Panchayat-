(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1831,e=>{"use strict";e.s(["apiClient",()=>a]);let t="http://localhost:3002/api",r=()=>localStorage.getItem("token")||sessionStorage.getItem("token"),o=async e=>{if(!e.ok){let t="HTTP error! status: ".concat(e.status);try{t=(await e.json()).message||t}catch(r){t=e.statusText||t}throw Error(t)}return e},a={get:async e=>{try{let a=r(),n=await fetch("".concat(t).concat(e),{method:"GET",headers:{"Content-Type":"application/json",...a&&{Authorization:"Bearer ".concat(a)}},credentials:"include"});return await o(n),n.json()}catch(e){if(console.error("API GET request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},post:async(e,a)=>{try{let n=r(),s=await fetch("".concat(t).concat(e),{method:"POST",headers:{"Content-Type":"application/json",...n&&{Authorization:"Bearer ".concat(n)}},body:JSON.stringify(a),credentials:"include"});return await o(s),s.json()}catch(e){if(console.error("API POST request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},put:async(e,a)=>{try{let n=r(),s=await fetch("".concat(t).concat(e),{method:"PUT",headers:{"Content-Type":"application/json",...n&&{Authorization:"Bearer ".concat(n)}},body:JSON.stringify(a),credentials:"include"});return await o(s),s.json()}catch(e){if(console.error("API PUT request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},delete:async e=>{try{let a=r(),n=await fetch("".concat(t).concat(e),{method:"DELETE",headers:{...a&&{Authorization:"Bearer ".concat(a)}},credentials:"include"});return await o(n),n.json()}catch(e){if(console.error("API DELETE request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},download:async e=>{try{let a=r(),n=await fetch("".concat(t).concat(e),{headers:{...a&&{Authorization:"Bearer ".concat(a)}},credentials:"include"});return await o(n),n.blob()}catch(e){if(console.error("API download request failed:",e),e instanceof TypeError&&"Failed to fetch"===e.message)throw Error("Network error: Unable to connect to the server. Please check if the server is running.");throw e}},login:async(e,t,r)=>a.post("/auth/login",{email:e,password:t,userType:r}),register:async(e,t,r)=>a.post("/auth/register",{name:e,email:t,password:r}),getCurrentUser:async()=>a.get("/auth/user/me")}},65686,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(43476),r=e.i(71645),o=e.i(1831);let a=()=>{let[e,a]=(0,r.useState)("Test Citizen"),[n,s]=(0,r.useState)("citizen@example.com"),[i,c]=(0,r.useState)("password123"),[l,d]=(0,r.useState)(null),[h,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),y=async t=>{t.preventDefault();try{u(!0),g(null);let t=await o.apiClient.register(e,n,i);d(t),t.token&&localStorage.setItem("token",t.token)}catch(e){g(e instanceof Error?e.message:"Registration failed"),console.error("Registration error:",e)}finally{u(!1)}};return(0,t.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif",maxWidth:"400px",margin:"0 auto"},children:[(0,t.jsx)("h1",{children:"Test Registration"}),(0,t.jsxs)("form",{onSubmit:y,style:{marginBottom:"20px"},children:[(0,t.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,t.jsx)("label",{children:"Name:"}),(0,t.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),style:{width:"100%",padding:"8px",marginTop:"5px"},required:!0})]}),(0,t.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,t.jsx)("label",{children:"Email:"}),(0,t.jsx)("input",{type:"email",value:n,onChange:e=>s(e.target.value),style:{width:"100%",padding:"8px",marginTop:"5px"},required:!0})]}),(0,t.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,t.jsx)("label",{children:"Password:"}),(0,t.jsx)("input",{type:"password",value:i,onChange:e=>c(e.target.value),style:{width:"100%",padding:"8px",marginTop:"5px"},required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:h,style:{padding:"10px 20px",backgroundColor:"#0070f3",color:"white",border:"none",borderRadius:"4px"},children:h?"Registering...":"Register"})]}),p&&(0,t.jsxs)("div",{style:{backgroundColor:"#fee",color:"#c33",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:[(0,t.jsx)("strong",{children:"Error:"})," ",p]}),l&&(0,t.jsxs)("div",{style:{backgroundColor:"#efe",color:"#363",padding:"10px",borderRadius:"4px"},children:[(0,t.jsx)("strong",{children:"Registration Success:"}),(0,t.jsx)("pre",{children:JSON.stringify(l,null,2)})]})]})}}]);